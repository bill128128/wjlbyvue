webpackJsonp([62],{Gpjj:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=s("bOdI"),n=s.n(i),a={name:"bindmobile",data:function(){return{userInfo:{phone:"",verify:"",realname:"",password:"",repassword:"",placeholder:"您的驾驶证后6位是？",answer:"",problemid:1,is_problem:0},title:"用户设置",isShowSelectMenu:!1,isShowSlectWayMenu:!1,problemlist:[],answerShow:!0,is_mobile:0,problemstu:0,data_list:""}},components:{top:s("CWUh").a},mounted:function(){this.isOverdue(),this.getproblemList(),this.problemstu=window.localStorage.getItem("is_problem"),this.is_mobile=window.localStorage.getItem("is_mobile"),0==this.problemstu&&0==this.is_mobile?this.userInfo.is_problem=0:0==this.problemstu&&1==this.is_mobile&&(this.userInfo.is_problem=1)},created:function(){},methods:(o={isOverdue:function(){var e=this;this.$store.dispatch("isLogin/isLogin").then(function(){4e4==e.$store.state.isLogin.code&&(e.$toast({message:e.$store.state.isLogin.msg}),setInterval(function(){e.$router.push("/login")},2e3),window.localStorage.removeItem("date"))}).catch(function(e){console.log(e)})},showSelectMenu:function(){this.isShowSelectMenu=!this.isShowSelectMenu,this.answerShow=!this.answerShow},SelectCount:function(e){this.userInfo.placeholder=this.problemlist[e].title,this.isShowSelectMenu=!this.isShowSelectMenu,this.answerShow=!0,this.userInfo.problemid=this.problemlist[e].id,console.log(this.userInfo.problemid)},showSelectWayMenu:function(){this.isShowSlectWayMenu=!this.isShowSlectWayMenu},goback:function(){this.$router.go(-1)},checkEmpty:function(e,t){return""!=t&&null!=t||(this.$toast({message:"请正确填写"+e}),!1)}},n()(o,"checkEmpty",function(e,t,s){s.test(t)||this.$toast({message:e+"格式不正确"})}),n()(o,"settime",function(e){var t=this;e.preventDefault(),this.$store.dispatch("getVerify/acgetVerify",this.userInfo.phone).then(function(){if(200==t.$store.state.getVerify.verifycode){t.$toast({message:t.$store.state.getVerify.verifymsg+"有效时间为30分钟"});var s=e.target,o=60,i=setInterval(function(){o--,s.innerHTML=o+"秒倒计时",s.disabled="disabled",s.style.backgroundColor="#cccccc",o<=0&&(s.disabled="",s.style.backgroundColor="#ffbb33",s.innerHTML="获取验证码",clearInterval(i))},1e3)}else t.$toast({message:"请正确输入手机号"})}).catch(function(e){console.log(e)})}),n()(o,"bindmobile",function(e){var t=this;e.preventDefault(),console.log(this.userInfo),0==this.is_mobile?this.$store.dispatch("getVerify/bindmobile",this.userInfo).then(function(){200==t.$store.state.getVerify.bindcode?(t.$toast({message:t.$store.state.getVerify.bindmsg}),t.$router.push("/login")):t.$toast({message:t.$store.state.getVerify.bindmsg})}).catch(function(e){console.log(e)}):this.$store.dispatch("getVerify/bindmobileOld",this.userInfo).then(function(){200==t.$store.state.getVerify.bindoldcode?(t.$toast({message:t.$store.state.getVerify.bindoldmsg}),t.$router.push("/login")):t.$toast({message:t.$store.state.getVerify.bindoldmsg})}).catch(function(e){console.log(e)})}),n()(o,"getproblemList",function(){var e=this;this.$store.dispatch("bindmobile/getproblemlist").then(function(){200==e.$store.state.bindmobile.code?e.problemlist=e.$store.state.bindmobile.problemlist:e.$toast({message:e.$store.state.bindmobile.msg})}).catch(function(e){console.log(e)})}),o)},r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e._m(0),e._v(" "),o("div",{attrs:{id:"loginbox"}},[o("div",{staticClass:"login"},[0==e.is_mobile?o("form",[o("div",[o("label",[e._v("手机号：")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.phone,expression:"userInfo.phone"},{name:"validate",rawName:"v-validate",value:"required|phone",expression:"'required|phone'"}],attrs:{type:"text",name:"phone",placeholder:"请输入手机号",autocomplete:"off"},domProps:{value:e.userInfo.phone},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"phone",t.target.value)}}})]),e._v(" "),o("div",[o("label",[e._v("验证码：")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.verify,expression:"userInfo.verify"}],staticClass:"input",attrs:{name:"verify",type:"text",placeholder:"请输入验证码",autocomplete:"off"},domProps:{value:e.userInfo.verify},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"verify",t.target.value)}}}),e._v(" "),o("button",{attrs:{id:"checknumbtn",type:"button"},on:{click:e.settime}},[e._v("获取验证码")])]),e._v(" "),o("div",[o("label",[e._v("真实姓名：")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.realname,expression:"userInfo.realname"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"text",name:"realname",placeholder:"请输入真实姓名",autocomplete:"off"},domProps:{value:e.userInfo.realname},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"realname",t.target.value)}}})]),e._v(" "),o("div",[o("label",[e._v("交易密码：")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.password,expression:"userInfo.password"},{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],attrs:{type:"password",name:"password",placeholder:"请输入交易密码",autocomplete:"off"},domProps:{value:e.userInfo.password},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"password",t.target.value)}}})]),e._v(" "),o("div",[o("label",[e._v("确认密码：")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.repassword,expression:"userInfo.repassword"},{name:"validate",rawName:"v-validate",value:"required|confirmed:password",expression:"'required|confirmed:password'"}],attrs:{type:"password",name:"repassword",placeholder:"请确认交易密码",autocomplete:"off"},domProps:{value:e.userInfo.repassword},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"repassword",t.target.value)}}})])]):e._e(),e._v(" "),o("div",{staticClass:"old"},[o("p",{staticClass:"p1"},[e._v("身份认证信息")]),e._v(" "),o("p",{staticClass:"p2"},[e._v("请您认真选择、填写，若您忘记了交易密码，在找回交易密码时需要鉴定身份认证信息。")]),e._v(" "),o("div",{staticClass:"selected select_count"},[o("div",{staticClass:"placeholder",on:{click:e.showSelectMenu}},[o("span",[e._v(e._s(e.userInfo.placeholder))])]),e._v(" "),o("span",{staticClass:"icon"},[o("img",{directives:[{name:"show",rawName:"v-show",value:!e.isShowSelectMenu,expression:"!isShowSelectMenu"}],attrs:{src:s("WIY8"),alt:"icon"}})]),e._v(" "),o("span",{staticClass:"icon"},[o("img",{directives:[{name:"show",rawName:"v-show",value:e.isShowSelectMenu,expression:"isShowSelectMenu"}],attrs:{src:s("6BN9"),alt:"icon"}})]),e._v(" "),o("ul",{directives:[{name:"show",rawName:"v-show",value:e.isShowSelectMenu,expression:"isShowSelectMenu"}],staticClass:"select_menu"},e._l(e.problemlist,function(t,s){return o("li",{key:s,on:{click:function(t){e.SelectCount(s)}}},[e._v(e._s(t.title))])}))]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!e.answerShow,expression:"!answerShow"}],staticStyle:{width:"6.8rem",height:"6rem"}}),e._v(" "),o("form",{directives:[{name:"show",rawName:"v-show",value:e.answerShow,expression:"answerShow"}],staticStyle:{"padding-top":"0"}},[o("div",[o("label",[e._v("答案：")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.answer,expression:"userInfo.answer"}],attrs:{type:"text",name:"realname",placeholder:"请输入密保答案",autocomplete:"off"},domProps:{value:e.userInfo.answer},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"answer",t.target.value)}}})]),e._v(" "),o("button",{on:{click:e.bindmobile}},[e._v("提交")])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"top"},[this._v("\n\t\t\t用户设置\n\t\t")])])}]};var l=s("VU/8")(a,r,!1,function(e){s("m5y1")},"data-v-5e90b2ec",null);t.default=l.exports},m5y1:function(e,t){}});
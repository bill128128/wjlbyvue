webpackJsonp([43],{"2Ern":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("CWUh"),c=s("IchT"),n=s("Au9i"),o=s("gz1q"),a={name:"subscribeJZB",data:function(){return{title:"我要认购",notes:"明细",cast_type:"",frozen_score:"",lease_score:"",isShowSelectMenu:!1,selectCount:[1e3,5e3,1e4,5e4,1e5],pageindex:0,isShowSlectWayMenu:!1,selectWay:[{title:"招募积分",id:1},{title:"租赁积分",id:2}],way:"",intro:[{id:1,title:"选择认购的类型：",content:"认购提现掌聚宝分为2种方式：使用招募积分、租赁积分认购。选择您要认购的方式。"},{id:2,title:"选择认购的数量",content:"认购提现掌聚宝数量分别为1000、5000、10000、50000、100000。当您所选认购数量大于用户级别数量，可选升级为相应的用户级别。您所选的认购数量需小于或等于你所拥有的招募积分或租赁积分。"}],info:{type:0,placeholder:"",checkid:0}}},created:function(){var e=this;this.isOverdue(),this.$store.dispatch("subscribeJZB/getsubscribeJZBInfo").then(function(){o.a.isLogin(e.$store.state.subscribeJZB.subscribeJZBcode,e),200==e.$store.state.subscribeJZB.subscribeJZBcode?(e.cast_type=e.$store.state.subscribeJZB.subscribeJZBcast_type,e.frozen_score=e.$store.state.subscribeJZB.subscribeJZBfrozen_score,e.lease_score=e.$store.state.subscribeJZB.subscribeJZBlease_score):e.$toast({message:e.$store.state.subscribeJZB.subscribeJZBmsg})}).catch(function(e){alert(输入错误)})},components:{top:i.a,foot:c.a},methods:{isOverdue:function(){var e=this;this.$store.dispatch("isLogin/isLogin").then(function(){4e4==e.$store.state.isLogin.code&&(e.$toast({message:e.$store.state.isLogin.msg}),setInterval(function(){e.$router.push("/login")},2e3),window.localStorage.removeItem("date"))}).catch(function(e){console.log(e)})},showSelectMenu:function(){this.isShowSelectMenu=!this.isShowSelectMenu},SelectCount:function(e){this.info.placeholder=this.selectCount[e],this.isShowSelectMenu=!this.isShowSelectMenu},showSelectWayMenu:function(){this.isShowSlectWayMenu=!this.isShowSlectWayMenu},selectWayFunction:function(e){this.way=this.selectWay[e].title,this.info.type=this.selectWay[e].id,this.isShowSlectWayMenu=!this.isShowSlectWayMenu},golist:function(){this.$router.push("/subscribeJZBList")},buy:function(){var e=this;this.$store.dispatch("subscribeJZB/checksubscribeJZB",this.info).then(function(){1==e.$store.state.subscribeJZB.checkcode?(e.$toast({message:e.$store.state.subscribeJZB.checkmsg}),setTimeout(function(){e.$router.go(0)},1e3)):e.$toast({message:e.$store.state.subscribeJZB.checkmsg})}).catch(function(e){alert(输入错误)})},checkLevel:function(e){var t=this;e.preventDefault(),""==this.way||null==this.way?this.$toast({message:"请选择认购类型"}):0==this.info.placeholder?this.$toast({message:"请选择认购数量"}):!(5e3!=this.cast_type&&5e4!=this.cast_type||5e3!=this.info.placeholder&&5e4!=this.info.placeholder||this.cast_type!=this.info.placeholder)?n.MessageBox.confirm("",{title:"温馨提示",message:"您是否需要升级到"+2*this.info.placeholder+"的等级",showCancelButton:!0,confirmButtonText:"升级",cancelButtonText:"转出"}).then(function(e){"confirm"==e&&(t.info.checkid=2,t.buy())}).catch(function(e){"cancel"==e&&(t.info.checkid=1,t.buy())}):this.buy()}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"subscribeJZB"}},[i("top",{attrs:{message:e.title,notes:e.notes}}),e._v(" "),i("div",{staticClass:"container"},[i("main",{staticClass:"main_available"},[i("div",{staticClass:"item"},[i("div",{staticClass:"count"},[e._v(e._s(e.cast_type))]),e._v(" "),i("h3",[e._v("用户级别")])]),e._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"count"},[e._v(e._s(e.frozen_score))]),e._v(" "),i("h3",[e._v("可用招募积分")])]),e._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"count"},[e._v(e._s(e.lease_score))]),e._v(" "),i("h3",[e._v("可用租赁积分")])])]),e._v(" "),i("form",{attrs:{action:""}},[i("div",{staticClass:"selected select_way"},[i("div",{staticClass:"placeholder",on:{click:e.showSelectWayMenu}},[e._v("认购类型："),i("span",[e._v(e._s(e.way))])]),e._v(" "),e._m(0),e._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:e.isShowSlectWayMenu,expression:"isShowSlectWayMenu"}],staticClass:"select_menu"},e._l(e.selectWay,function(t,s){return i("li",{key:s,on:{click:function(t){e.selectWayFunction(s)}}},[e._v(e._s(t.title))])}))]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowSlectWayMenu,expression:"isShowSlectWayMenu"}],staticClass:"placeholderDiv"}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShowSlectWayMenu,expression:"!isShowSlectWayMenu"}],staticClass:"selected select_count"},[i("div",{staticClass:"placeholder",on:{click:e.showSelectMenu}},[e._v("认购提现掌聚宝数量："),i("span",[e._v(e._s(e.info.placeholder))])]),e._v(" "),i("span",{staticClass:"icon"},[i("img",{directives:[{name:"show",rawName:"v-show",value:!e.isShowSelectMenu,expression:"!isShowSelectMenu"}],attrs:{src:s("WIY8"),alt:"icon"}})]),e._v(" "),i("span",{staticClass:"icon"},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.isShowSelectMenu,expression:"isShowSelectMenu"}],attrs:{src:s("6BN9"),alt:"icon"}})]),e._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:e.isShowSelectMenu,expression:"isShowSelectMenu"}],staticClass:"select_menu"},e._l(e.selectCount,function(t,s){return i("li",{key:s,on:{click:function(t){e.SelectCount(s)}}},[e._v(e._s(t))])}))]),e._v(" "),i("div",{staticClass:"submit",on:{click:e.checkLevel}},[e._v("立即认购")]),e._v(" "),i("div",{staticClass:"intro"},[i("ul",{staticClass:"intro_list"},e._l(e.intro,function(t,s){return i("li",{key:s},[i("h3",[e._v(e._s(t.id)+"、"+e._s(t.title))]),e._v(" "),i("div",{staticClass:"text_content"},[e._v(e._s(t.content))])])}))])])]),e._v(" "),i("foot",{attrs:{pageindex:e.pageindex}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"icon"},[t("img",{attrs:{src:s("WIY8"),alt:"icon"}})])}]};var r=s("VU/8")(a,l,!1,function(e){s("WRKG")},"data-v-a561b23a",null);t.default=r.exports},WRKG:function(e,t){}});
webpackJsonp([11],{"3QQ6":function(t,e){},RhPD:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("CWUh"),i=s("IchT"),o=(s("Au9i"),{name:"tradePurchase",data:function(){return{info:{code:"",count:"",searchbuyCode:localStorage.getItem("searchbuy")},page:1,list:[],new_price:"",allLoaded:!1,pageval:5,bottomDistance:150}},created:function(){this.buylist()},methods:{emptyCode:function(){this.info.searchbuyCode=""},goselllist:function(t){t.preventDefault(),this.$router.push("/searchBuy")},checkEmpty:function(t,e){return""!=e&&null!=e||(this.$toast({message:t+"不能为空"}),!1)},buy:function(t){var e=this;return t.preventDefault(),0!=this.checkEmpty("代码",this.info.searchbuyCode)&&(0!=this.checkEmpty("买入量",this.info.count)&&void this.$store.dispatch("tradePurchase/buy",this.info).then(function(){200==e.$store.state.tradePurchase.code?(e.$toast({message:e.$store.state.tradePurchase.msg}),setTimeOut(function(){e.$router.go(0)},2e3)):201==e.$store.state.tradePurchase.code?(e.$toast({message:e.$store.state.tradePurchase.msg}),setTimeOut(function(){e.$router.go(0)},2e3)):e.$toast({message:e.$store.state.tradePurchase.msg})}).catch(function(t){}))},buylist:function(){var t=this;this.$store.dispatch("tradePurchase/buylist",this.page).then(function(){200==t.$store.state.tradePurchase.buycode?(t.allLoaded=!1,t.pageval==t.$store.state.tradePurchase.list.length?t.list=t.$store.state.tradePurchase.list:(t.list=t.$store.state.tradePurchase.list,t.allLoaded=!0),t.new_price=t.$store.state.tradePurchase.new_price):t.$toast({message:t.$store.state.tradePurchase.buymsg})}).catch(function(t){})},loadBottom:function(){this.page++,this.buylist(),this.$refs.loadmore.onBottomLoaded()},loadTop:function(){this.page--,this.page<=1&&(this.page=1,this.allLoaded=!0),this.buylist(),this.$refs.loadmore.onTopLoaded()}},filters:{formart:function(t){return t=t.substring(0,10)}}}),n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"tradePurchase"}},[s("form",{staticClass:"form",attrs:{action:""}},[s("div",{staticClass:"value"},[t._v("\n            最新价："),s("span",[t._v(t._s(t.new_price))]),t._v(" "),s("button",{on:{click:t.goselllist}},[t._v("点击查看售卖列表")])]),t._v(" "),s("label",{attrs:{for:""}},[t._v("              \n            \t代码："),s("input",{directives:[{name:"model",rawName:"v-model",value:t.info.searchbuyCode,expression:"info.searchbuyCode"}],attrs:{type:"text",placeholder:"请输入购买代码"},domProps:{value:t.info.searchbuyCode},on:{input:function(e){e.target.composing||t.$set(t.info,"searchbuyCode",e.target.value)}}}),t._v(" "),s("span",{staticClass:"emptyCode",on:{click:t.emptyCode}},[t._v("×")])]),t._v(" "),s("label",{attrs:{for:""}},[t._v("买入量："),s("input",{directives:[{name:"model",rawName:"v-model",value:t.info.count,expression:"info.count"}],attrs:{type:"number",placeholder:"请输入的数量"},domProps:{value:t.info.count},on:{input:function(e){e.target.composing||t.$set(t.info,"count",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"tc"},[s("button",{staticClass:"submit",attrs:{type:""},on:{click:t.buy}},[t._v("买入")])])]),t._v(" "),s("div",{staticClass:"trade_list"},[s("h3",[t._v("买入记录")]),t._v(" "),s("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,"auto-fill":!1,bottomDistance:t.bottomDistance}},[s("ul",{staticClass:"trade_list_menu"},t._l(t.list,function(e){return s("li",{staticClass:"item"},[s("ul",{staticClass:"infomation"},[s("li",[s("p",{staticClass:"count"},[t._v(t._s(e.code))]),t._v(" "),s("p",{staticClass:"text"},[t._v("代码")])]),t._v(" "),s("li",[s("p",{staticClass:"count"},[t._v(t._s(e.username))]),t._v(" "),s("p",{staticClass:"text"},[t._v("委托人")])]),t._v(" "),s("li",[s("p",{staticClass:"count"},[t._v(t._s(e.open_price))]),t._v(" "),s("p",{staticClass:"text"},[t._v("开盘价")])]),t._v(" "),s("li",[s("p",{staticClass:"count"},[t._v(t._s(e.buy_number))]),t._v(" "),s("p",{staticClass:"text"},[t._v("购买数量")])])]),t._v(" "),s("ul",{staticClass:"trade_time"},[s("li",{staticClass:"time"},[t._v(t._s(t._f("formart")(e.create_time)))]),t._v(" "),s("li",{staticClass:"status"},[s("button",[t._v(t._s(e.status_msg))])])])])}))])],1)])},staticRenderFns:[]};var c=s("VU/8")(o,n,!1,function(t){s("rkhX")},"data-v-24d6b758",null).exports,l={name:"tradeSell",data:function(){return{tabView:"select1",title:"交易",tabList:["买入","卖出"],activeTabIndex:1,contactWay:[{way:"电话号",count:"",contact:"contact_tel"},{way:"微信号",count:"",contact:"contact_weixin"},{way:"QQ号",count:"",contact:"contact_qq"}],isShowContactMenu:!1,new_price:"",info:{sellCount:0,selectWayMode:"",selectWayText:"请选择您的联系方式",serviceCount:0,contactMsg:""},contactCont:[],allActiveMenu:[{text:"全部",activeStatus:!0},{text:"待确定",activeStatus:!1},{text:"已驳回",activeStatus:!1},{text:"已成交",activeStatus:!1},{text:"挂卖中",activeStatus:!1},{text:"已撤回",activeStatus:!1},{text:"已完成",activeStatus:!1}],isShowTradeListActive:!1,tradeListActive:"全部",list:[],listType:0,page:1,allLoaded:!1,pageval:5,bottomDistance:150}},components:{top:top},computed:{service:function(){this.info.serviceCount=0},totalCount:function(){return this.info.sellCount-0+this.info.serviceCount}},created:function(){this.getContact(),this.selllist()},methods:{loadBottom:function(){this.page++,this.selllist(),this.$refs.loadmore.onBottomLoaded()},loadTop:function(){this.page--,this.page<=1&&(this.page=1,this.allLoaded=!0),this.selllist(),this.$refs.loadmore.onTopLoaded()},tabChange:function(t){this.tabView=t},changeTab:function(t){this.activeTabIndex=t},showContactMenu:function(){this.isShowContactMenu=!this.isShowContactMenu},selectWay:function(t){var e=this;""==this.contactWay[0].count&&""==this.contactWay[1].count&&""==this.contactWay[2].count?(this.$toast({message:"您还没有联系方式，即将跳转到添加联系方式页面"}),setTimeout(function(){e.$router.push("/addContactWay")},2e3)):(this.info.selectWayText=this.contactWay[t].count,this.info.selectWayMode=this.contactWay[t].contact,this.isShowContactMenu=!1)},showTradeListActive:function(){this.isShowTradeListActive=!this.isShowTradeListActive},changeTradeActive:function(t){this.isShowTradeListActive=!1,this.tradeListActive=this.allActiveMenu[t].text;for(var e=0;e<this.allActiveMenu.length;e++)this.allActiveMenu[e].activeStatus=!1;this.allActiveMenu[t].activeStatus=!0,this.listType=t,this.list=[],this.selllist()},countAdd:function(){this.info.sellCount=this.info.sellCount-0+10},countSubtract:function(){10>=this.info.sellCount>0?this.info.sellCount=0:this.info.sellCount>10&&(this.info.sellCount=this.info.sellCount-10)},getContact:function(){var t=this;this.$store.dispatch("addContactWay/getContactWay").then(function(){200==t.$store.state.addContactWay.getcode?(t.contactWay[0].count=t.$store.state.addContactWay.gettel,t.contactWay[1].count=t.$store.state.addContactWay.getweixin,t.contactWay[2].count=t.$store.state.addContactWay.getqq):t.$toast({message:t.$store.state.addContactWay.getmsg})}).catch(function(t){})},sell:function(t){var e=this;t.preventDefault(),0==this.info.sellCount||""==this.info.sellCount?this.$toast({message:"请输入卖出数量"}):this.info.sellCount<0||this.info.sellCount<10?this.$toast({message:"卖出数量为10的正整数倍"}):this.info.sellCount%10!=0?this.$toast({message:"卖出数量为10的正整数倍"}):""==this.info.selectWayText||"请选择您的联系方式"==this.info.selectWayText?this.$toast({message:"联系方式不能为空"}):this.$store.dispatch("tradeSell/sell",this.info).then(function(){200==e.$store.state.tradeSell.code?(e.$toast({message:"挂卖成功！"}),e.info.sellCount=0,e.info.serviceCount=0,e.info.selectWayText="",e.list=[],e.selllist()):(e.$store.state.tradeSell.code,e.$toast({message:e.$store.state.tradeSell.msg}))}).catch(function(t){})},selllist:function(){var t=this;this.$store.dispatch("tradeSell/selllist",[this.page,this.listType]).then(function(){200==t.$store.state.tradeSell.sellcode?(t.allLoaded=!1,t.pageval==t.$store.state.tradeSell.list.length?t.list=t.$store.state.tradeSell.list:(t.list=t.$store.state.tradeSell.list,t.allLoaded=!0),t.new_price=t.$store.state.tradeSell.new_price):t.$toast({message:t.$store.state.tradeSell.sellmsg})}).catch(function(t){})},clickComplete:function(t){var e=this;this.$store.dispatch("tradeAction/clickComplete",t).then(function(){200==e.$store.state.tradeAction.successCode?(e.$toast({message:e.$store.state.tradeAction.successMsg}),e.list=[],e.selllist()):e.$toast({message:e.$store.state.tradeAction.successMsg})}).catch(function(t){})},clickReject:function(t){var e=this;this.$store.dispatch("tradeAction/clickReject",t).then(function(){200==e.$store.state.tradeAction.rejectCode?(e.$toast({message:e.$store.state.tradeAction.rejectMsg}),e.list=[],e.selllist()):e.$toast({message:e.$store.state.tradeAction.rejectMsg})}).catch(function(t){})},clickWidthdraw:function(t,e){var s=this;this.$store.dispatch("tradeAction/clickWidthdraw",t).then(function(){200==s.$store.state.tradeAction.withdrawCode?(s.$toast({message:s.$store.state.tradeAction.withdrawMsg}),s.list=[],s.selllist()):s.$toast({message:s.$store.state.tradeAction.withdrawMsg})}).catch(function(t){})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"tradeSell"}},[a("div",{staticClass:"container"},[a("form",{staticClass:"form",attrs:{action:""}},[a("div",{staticClass:"value"},[t._v("最新价："),a("span",[t._v(t._s(t.new_price))])]),t._v(" "),a("label",{staticClass:"count_input",attrs:{for:""}},[a("span",{on:{click:t.countSubtract}},[t._v("-")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.info.sellCount,expression:"info.sellCount"}],attrs:{type:"number",placeholder:"卖出量",id:"count"},domProps:{value:t.info.sellCount},on:{input:function(e){e.target.composing||t.$set(t.info,"sellCount",e.target.value)}}}),t._v(" "),a("span",{on:{click:t.countAdd}},[t._v("+")])]),t._v(" "),a("div",{staticClass:"tip"},[t._v("\n                \t共扣除您"),a("span",[t._v(t._s(t.info.sellCount))]),t._v("的掌聚宝积分。\n                ")]),t._v(" "),a("div",{staticClass:"selected"},[a("div",{staticClass:"placeholder",on:{click:t.showContactMenu}},[t._v("联系方式："),a("span",[t._v(t._s(t.info.selectWayText))])]),t._v(" "),a("span",{staticClass:"icon"},[a("img",{directives:[{name:"show",rawName:"v-show",value:!t.isShowContactMenu,expression:"!isShowContactMenu"}],attrs:{src:s("WIY8")}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:t.isShowContactMenu,expression:"isShowContactMenu"}],attrs:{src:s("6BN9")}})]),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.isShowContactMenu,expression:"isShowContactMenu"}],staticClass:"select_menu"},t._l(t.contactWay,function(e,s){return a("li",{key:s,on:{click:function(e){t.selectWay(s)}}},[t._v(t._s(e.way)+":"+t._s(e.count))])}))]),t._v(" "),a("div",{staticClass:"tip"},[t._v("联系方式，方便购买委托用户与您联系。")]),t._v(" "),a("div",{staticClass:"tc"},[a("button",{staticClass:"submit",attrs:{type:"",value:"卖出"},on:{click:t.sell}},[t._v("卖出")])])]),t._v(" "),a("div",{staticClass:"trade_list",class:{min_height:t.isShowTradeListActive}},[a("h3",[a("span",[t._v("挂卖记录")]),t._v(" "),a("span",[a("span",{on:{click:t.showTradeListActive}},[t._v(t._s(t.tradeListActive))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.isShowTradeListActive,expression:"isShowTradeListActive"}],staticClass:"triangle"}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:t.isShowTradeListActive,expression:"isShowTradeListActive"}],attrs:{src:s("q/J6"),alt:"up"}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:!t.isShowTradeListActive,expression:"!isShowTradeListActive"}],attrs:{src:s("UMpN"),alt:"down"}}),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.isShowTradeListActive,expression:"isShowTradeListActive"}],staticClass:"all_active_menu"},t._l(t.allActiveMenu,function(e,s){return a("li",{key:s,on:{click:function(e){t.changeTradeActive(s),t.tabChange("select"+(s+1))}}},[a("span",[t._v(t._s(e.text))]),t._v(" "),a("span",{class:{active:1==e.activeStatus}})])}))])]),t._v(" "),a("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,"auto-fill":!1,bottomDistance:t.bottomDistance}},[a("ul",{staticClass:"trade_list_menu"},t._l(t.list,function(e,s){return a("li",{key:s,staticClass:"item"},[a("ul",{staticClass:"infomation"},[a("li",[a("p",{staticClass:"count"},[t._v(t._s(e.code))]),t._v(" "),a("p",{staticClass:"text"},[t._v("代码")])]),t._v(" "),a("li",[a("p",{staticClass:"count"},[t._v(t._s(e.business))]),t._v(" "),a("p",{staticClass:"text"},[t._v("委托人")])]),t._v(" "),a("li",[a("p",{staticClass:"count"},[t._v(t._s(e.open_price))]),t._v(" "),a("p",{staticClass:"text"},[t._v("开盘价")])]),t._v(" "),a("li",[a("p",{staticClass:"count"},[t._v(t._s(e.total))]),t._v(" "),a("p",{staticClass:"text"},[t._v("挂卖数量")])])]),t._v(" "),a("div",{staticClass:"trade_time"},[a("div",[a("span",{staticClass:"time"},[t._v(t._s(e.time))])]),t._v(" "),a("ul",{staticClass:"buttons"},[a("li",{directives:[{name:"show",rawName:"v-show",value:1==e.status,expression:"item.status == 1"}],staticClass:"bg",on:{click:function(s){t.clickComplete(e.out_id)}}},[t._v("成交")]),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:1==e.status,expression:"item.status == 1"}],staticClass:"bg",on:{click:function(s){t.clickReject(e.out_id)}}},[t._v("驳回")]),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:4==e.status,expression:"item.status == 4"}],staticClass:"bg",on:{click:function(s){t.clickWidthdraw(e.out_id,e.status)}}},[t._v("撤回")]),t._v(" "),a("li",{staticClass:"status"},[a("button",[t._v(t._s(e.status_msg))])])])])])}))])],1)])])},staticRenderFns:[]};var u=s("VU/8")(l,r,!1,function(t){s("3QQ6")},"data-v-3c85f701",null).exports,d={name:"tradeAction",data:function(){return{pageindex:1,tabView:"select1",title:"交易",tabList:["买入","卖出"],activeTabIndex:0}},created:function(){this.isOverdue()},methods:{isOverdue:function(){var t=this;this.$store.dispatch("isLogin/isLogin").then(function(){4e4==t.$store.state.isLogin.code&&(t.$toast({message:t.$store.state.isLogin.msg}),setInterval(function(){t.$router.push("/login")},2e3),window.localStorage.removeItem("date"))}).catch(function(t){console.log(t)})},changeTab:function(t){this.activeTabIndex=t},changeTabContent:function(t){this.tabView="select"+(t+1)}},components:{top:a.a,select1:c,select2:u,foot:i.a}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"tradeAction"}},[s("top",{attrs:{message:t.title}}),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"select_box"},[s("ul",{staticClass:"select_list"},t._l(t.tabList,function(e,a){return s("li",{key:a,class:{active:t.activeTabIndex==a},on:{click:function(e){t.changeTab(a),t.changeTabContent(a)}}},[t._v(t._s(e))])}))]),t._v(" "),s("keep-alive",[s(t.tabView,{tag:"component"})],1)],1),t._v(" "),s("foot",{attrs:{pageindex:t.pageindex}})],1)},staticRenderFns:[]};var v=s("VU/8")(d,h,!1,function(t){s("cI/m")},"data-v-200b9d95",null);e.default=v.exports},UMpN:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAUCAMAAADfuh9AAAAAV1BMVEUAAAB6esx6esx6esx6esx6esx6esx6esx6esx6esx6esx6esx6esx6esx6esx6esx6esx6esx6esx6esx6esx6esx6esx6esx6esx6esx6esx6esx6esyupS5HAAAAHHRSTlMA+KLxsywMAd8F68m+aVtONyQS4ZeWiId5eENCDg9FYwAAAIRJREFUKM+F0VcOgzAQRdE3YxswHdIT9r/O0GVc7/eRRqMHJcUUSUiF25SoAKUIgVOEMRaJOyMwlDFRDphTIvKQwlpPIUE99n4UEF+cdX7Swaj1iRaXGlc0sPrY4g2n11U84elhinvuIzkbw2zCNfIQUiOQrjdRawTLqkVUGRAxTMSW+AMwSSx3C3i+jQAAAABJRU5ErkJggg=="},"cI/m":function(t,e){},"q/J6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAUCAYAAADoZO9yAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpEMjIzMThEN0M0NTYxMUU4OENENTk3QkMzODM2MzM4OCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpEMjIzMThEOEM0NTYxMUU4OENENTk3QkMzODM2MzM4OCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQyMjMxOEQ1QzQ1NjExRTg4Q0Q1OTdCQzM4MzYzMzg4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQyMjMxOEQ2QzQ1NjExRTg4Q0Q1OTdCQzM4MzYzMzg4Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+AXDzNAAAAStJREFUeNpirKo6w0Am4AfiyUAcBuWvBuIcIP5IiiGtrcZgmoVMR3AB8U4gNkcSiwFiNSB2AuKvpBrIRIYj2IB4M5ojYMAMKsdOa4cwQ6PACY8aR6gaFlo5hBGIFwKxHxFqfaFqmWjhkKlAHE2C+iioHkZqOqQdiDPJSE8ZUL1UcUgFFJMLyoG4klKHZBLrIwKgDYizyHVINDSOqQWmQssakhziB031jAzUBSAz/Yl1iBO0HGBmoD5ggprtTMgh5tCSkY2BdoAVaocFLofoQusPLgbaA06oXbroDlEB4r3QGpVegA+I91VXn1WBOUQIiHcBsSgD/YEIEO8BOkYY5JA+IFZkGDggD8S9IIeEMgw8CAM55M0gcMhLkEO8gXgrEH8aAAd8gtrtCxBgAMWPLkQrkS3nAAAAAElFTkSuQmCC"},rkhX:function(t,e){}});
webpackJsonp([74],{FYpy:function(t,e){},umOZ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("bOdI"),s=i.n(a),o=i("CWUh"),n=i("IchT"),r={name:"index",data:function(){return{selected:"1",title:"交易",totalAccets:"",i_time:"30分钟",day_time:"",btnList:["交易"],xData:[],yData:[],XData:[],YData:[],newPrice:20,pageindex:1,start_time:"",end_time:"",request_time:"",labelShow:!1}},components:{top:o.a,foot:n.a},created:function(){this.isOverdue(),this.getTractionTime(),this.getTradeCount();var t=this,e=new Date,i=e.getHours(),a=e.getMinutes();e=t.changeTime(i+":"+a);var s=t.changeTime("9:00"),o=t.changeTime("17:00"),n="",r="";if(e>=s&&e<=o){a>30?(n=i+":31",r=i+1+":01",this.getPriceList(n)):(n=i+":01",r=i+":31",this.getPriceList(n));setInterval(function(){var i=(e=new Date).getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),a=e.getHours();(e=t.changeTime(a+":"+i))==t.changeTime(r)&&(t.getPriceList(r),r=i>30?a+1+":01":a+":31")},6e4)}else this.getPriceList("17:00")},mounted:function(){this.drawLine(),this.drawChart()},methods:{isOverdue:function(){var t=this;this.$store.dispatch("isLogin/isLogin").then(function(){4e4==t.$store.state.isLogin.code&&(t.$toast({message:t.$store.state.isLogin.msg}),setInterval(function(){t.$router.push("/login")},2e3),window.localStorage.removeItem("date"))}).catch(function(t){console.log(t)})},showNumber:function(){this.labelShow=!this.labelShow,this.drawLine()},goindex:function(){this.$router.push("/index/index")},checkgologin:function(t){var e=window.localStorage.getItem("date");null==e||"undefined"==e?(this.$toast({message:"请先登录"}),this.$router.push("/login")):this.$router.push(t)},goToTradeAction:function(t){var e=window.localStorage.getItem("date");null==e||"undefined"==e?(this.$toast({message:"请先登录"}),this.$router.push("/login")):this.$router.push("/tradeAction")},drawLine:function(){var t=echarts.init(document.getElementById("chartPrice")),e=s()({title:{text:"最近价格表",textStyle:{color:"#ccc",fontStyle:"normal",fontSize:"0.3rem"}},dataZoom:{start:30},xAxis:{type:"category",data:this.xData,axisLine:{lineStyle:{color:"#fff"}},splitLine:{show:!0,lineStyle:{color:"#5A668D",type:"dotted"}},axisLabel:{show:!0}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#fff"}},splitLine:{show:!0,lineStyle:{color:"#5A668D",type:"dotted"}}},series:[{data:this.yData,type:"line",symbolSize:1,itemStyle:{normal:{color:"#fff",lineStyle:{color:"#386db3"},label:{show:this.labelShow,position:o.a}}},markPoint:{symbolSize:30,itemStyle:{normal:{label:{show:!0,color:"#000"}}},data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]}}]},"dataZoom",[{type:"slider",xAxisIndex:0,filterMode:"empty"},{type:"inside",xAxisIndex:0,filterMode:"empty"}]);t.setOption(e)},drawChart:function(){for(var t=t=echarts.init(document.getElementById("chartNumber")),e=this.XData,i=this.YData,a=[],s=0;s<i.length;s++)a.push(500);var o={title:{text:"每日销量",textStyle:{color:"#ccc",fontStyle:"normal",fontSize:"0.27rem"}},xAxis:{data:e,axisLabel:{textStyle:{color:"#fff"}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#fff"}}},yAxis:{splitLine:{show:!0,lineStyle:{color:"#5A668D",type:"dotted"}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#fff"}},axisLine:{lineStyle:{color:"#fff"}}},dataZoom:[{type:"inside"}],series:[{type:"bar",itemStyle:{normal:{color:"rgba(0,0,0,0.05)"}},barGap:"-100%",barCategoryGap:"40%",animation:!1},{type:"bar",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}]),label:{show:!0,position:"top",textStyle:{color:"#fff"}}},emphasis:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#2378f7"},{offset:.7,color:"#2378f7"},{offset:1,color:"#83bff6"}])}},data:i}]};t.setOption(o)},getTractionTime:function(){var t=this;this.$store.dispatch("tradeIndex/getTractionTime").then(function(){200==t.$store.state.tradeIndex.tractionTimeCode?(t.start_time=t.$store.state.tradeIndex.tractionTimeList.start_time,t.end_time=t.$store.state.tradeIndex.tractionTimeList.end_time,t.request_time=t.$store.state.tradeIndex.tractionTimeList.request_time,t.day_time=t.$store.state.tradeIndex.tractionTimeList.now,t.totalAccets=t.$store.state.tradeIndex.tractionTimeList.total):t.$toast({message:t.$store.state.tradeIndex.tractionTimeMsg})}).catch(function(t){})},getPriceList:function(t){var e=this;this.$store.dispatch("tradeIndex/getPriceList",t).then(function(){if(200==e.$store.state.tradeIndex.priceListCode){for(var t=e.$store.state.tradeIndex.list,i=0;i<t.length;i++)e.xData.push(t[i].time),e.yData.push(t[i].new_price);e.drawLine()}else e.$toast({message:e.$store.state.tradeIndex.priceListMsg})}).catch(function(t){})},changeTime:function(t){var e=t.split(":")[0],i=t.split(":")[1];return 60*e+Number(i)},getTradeCount:function(){var t=this;this.$store.dispatch("tradeIndex/getTradeCount").then(function(){if(200==t.$store.state.tradeIndex.tradeCountCode){for(var e=t.$store.state.tradeIndex.tradeCountList,i=0;i<e.length;i++)t.XData.push(e[i].time),t.YData.push(e[i].num);t.drawChart()}else t.$toast({message:t.$store.state.tradeIndex.tradeCountList})}).catch(function(t){})}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"transction"}},[i("top",{attrs:{message:t.title}}),t._v(" "),i("div",{attrs:{id:"assets"}},[i("div",{staticClass:"titleAccets"},[t._v("总资产")]),t._v(" "),i("div",{staticClass:"totalAccets"},[t._v(t._s(t.totalAccets))]),t._v(" "),i("ul",{staticClass:"btn"},t._l(t.btnList,function(e,a){return i("li",{key:a,on:{click:function(e){t.goToTradeAction("/tradeAction",a)}}},[t._v(t._s(e))])}))]),t._v(" "),i("div",{attrs:{id:"time"}},[i("span",{staticClass:"i_time"},[t._v(t._s(t.i_time))]),i("span",{staticClass:"day_time"},[t._v(t._s(t.day_time))])]),t._v(" "),i("div",{attrs:{id:"chartPrice"},on:{click:t.showNumber}}),t._v(" "),i("div",{attrs:{id:"chartNumber"}}),t._v(" "),i("foot",{attrs:{pageindex:t.pageindex}})],1)},staticRenderFns:[]};var l=i("VU/8")(r,c,!1,function(t){i("FYpy")},"data-v-13ec3e3d",null);e.default=l.exports}});
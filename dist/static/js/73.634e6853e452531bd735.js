webpackJsonp([73],{JIOL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("Au9i");var n=a("CWUh"),s=a("IchT"),i={name:"addCard",inject:["reload"],data:function(){return{value:!0,title:"添加银行卡",pageindex:2,isShowSelectMenu:!1,isShowSlectWayMenu:!1,answerShow:!0,bankinfo:{username:"",card_id:"",bank_name:"中国工商银行",bank_card:"",bank_open:"",bank_mobile:"",is_default:0},bankNameList:["中国工商银行","招商银行","中国农业银行","中国建设银行","中国银行","中国民生银行","中国光大银行","中信银行","交通银行","兴业银行","上海浦东发展银行","华夏银行","深圳发展银行","广东发展银行","中国邮政储蓄银行","北京银行","宁波银行"]}},components:{top:n.a,foot:s.a},created:function(){this.isOverdue(),this.value?this.bankinfo.is_default=1:this.bankinfo.is_default=0},methods:{isOverdue:function(){var e=this;this.$store.dispatch("isLogin/isLogin").then(function(){4e4==e.$store.state.isLogin.code&&(e.$toast({message:e.$store.state.isLogin.msg}),setInterval(function(){e.$router.push("/login")},2e3),window.localStorage.removeItem("date"))}).catch(function(e){console.log(e)})},showSelectMenu:function(){console.log(this.isShowSelectMenu),this.isShowSelectMenu=!this.isShowSelectMenu,this.answerShow=!this.answerShow},SelectCount:function(e){this.userInfo.placeholder=this.problemlist[e].title,this.isShowSelectMenu=!this.isShowSelectMenu,this.answerShow=!0},showSelectWayMenu:function(){this.isShowSlectWayMenu=!this.isShowSlectWayMenu},selectBankName:function(e){this.bankinfo.bank_name=e,this.isShowSelectMenu=!this.isShowSelectMenu,this.answerShow=!this.answerShow},subCard:function(){var e=this;return 0!=this.checkEmpty(this.bankinfo.username,"真实姓名")&&(0!=this.checkEmpty(this.bankinfo.card_id,"身份证号")&&(0!=this.checkEmpty(this.bankinfo.bank_name,"银行名称")&&(0!=this.checkEmpty(this.bankinfo.bank_card,"银行卡号")&&(0!=this.checkEmpty(this.bankinfo.bank_open,"开户行地址")&&(0!=this.checkEmpty(this.bankinfo.bank_mobile,"银行预留手机号")&&(this.checkCardid(),this.checkMobile(),void this.$store.dispatch("addCard/addCard",this.bankinfo).then(function(){1==e.$store.state.addCard.code?(e.$toast({message:e.$store.state.addCard.msg}),setTimeout(function(){e.$router.go(-1)},1e3)):e.$toast({message:e.$store.state.addCard.msg})}).catch(function(e){console.log(e)})))))))},checkEmpty:function(e,t){return""!=e&&null!=e||(this.$toast({message:t+"不能为空"}),!1)},checkCardid:function(){return!1!==/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(this.bankinfo.card_id)||(this.$toast({message:"请正确填写身份证号码"}),!1)},checkMobile:function(){return!1!==/^(1[358][0-9]{9})$/.test(this.bankinfo.bank_mobile)||(this.$toast({message:"请正确填写手机号码"}),!1)}}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"addCard"}},[n("top",{attrs:{message:e.title}}),e._v(" "),n("div",{staticClass:"containers"},[n("div",{staticClass:"bg"},[n("form",{staticClass:"form",attrs:{action:""}},[n("label",{attrs:{for:""}},[e._v("姓名：\n\t\t\t\t\t"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.bankinfo.username,expression:"bankinfo.username"}],attrs:{type:"text",name:"name",placeholder:"请输入您的真实姓名",autocomplete:"off"},domProps:{value:e.bankinfo.username},on:{input:function(t){t.target.composing||e.$set(e.bankinfo,"username",t.target.value)}}})]),e._v(" "),n("label",{attrs:{for:""}},[e._v("身份证号：\n\t\t\t\t\t"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.bankinfo.card_id,expression:"bankinfo.card_id"}],attrs:{type:"text",name:"cardid",placeholder:"请输入18位身份证号",autocomplete:"off"},domProps:{value:e.bankinfo.card_id},on:{input:function(t){t.target.composing||e.$set(e.bankinfo,"card_id",t.target.value)}}})]),e._v(" "),n("p",[e._v("请绑定本人银行卡")]),e._v(" "),n("div",{staticClass:"selected select_count"},[n("div",{staticClass:"placeholder",on:{click:e.showSelectMenu}},[n("span",[e._v(e._s(e.bankinfo.bank_name))])]),e._v(" "),n("span",{staticClass:"icon"},[n("img",{directives:[{name:"show",rawName:"v-show",value:!e.isShowSelectMenu,expression:"!isShowSelectMenu"}],attrs:{src:a("WIY8"),alt:"icon"}})]),e._v(" "),n("span",{staticClass:"icon"},[n("img",{directives:[{name:"show",rawName:"v-show",value:e.isShowSelectMenu,expression:"isShowSelectMenu"}],attrs:{src:a("6BN9"),alt:"icon"}})]),e._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.isShowSelectMenu,expression:"isShowSelectMenu"}],staticClass:"select_menu"},e._l(e.bankNameList,function(t,a){return n("li",{key:a,on:{click:function(a){e.selectBankName(t)}}},[e._v(e._s(t))])}))]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.answerShow,expression:"!answerShow"}],staticStyle:{width:"6.8rem",height:"6rem"}}),e._v(" "),n("label",{attrs:{for:""}},[e._v("银行卡号：\n\t\t\t\t\t"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.bankinfo.bank_card,expression:"bankinfo.bank_card"}],attrs:{type:"text",name:"text",placeholder:"请输入银行卡号",autocomplete:"off"},domProps:{value:e.bankinfo.bank_card},on:{input:function(t){t.target.composing||e.$set(e.bankinfo,"bank_card",t.target.value)}}})]),e._v(" "),n("label",{attrs:{for:""}},[e._v("开户行：\n\t\t\t\t\t"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.bankinfo.bank_open,expression:"bankinfo.bank_open"}],attrs:{type:"text",name:"text",placeholder:"请输入开户行地址",autocomplete:"off"},domProps:{value:e.bankinfo.bank_open},on:{input:function(t){t.target.composing||e.$set(e.bankinfo,"bank_open",t.target.value)}}})]),e._v(" "),n("label",{attrs:{for:""}},[e._v("手机号：\n\t\t\t\t\t"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.bankinfo.bank_mobile,expression:"bankinfo.bank_mobile"}],attrs:{type:"text",name:"text",placeholder:"请输入银行预留手机号",autocomplete:"off"},domProps:{value:e.bankinfo.bank_mobile},on:{input:function(t){t.target.composing||e.$set(e.bankinfo,"bank_mobile",t.target.value)}}})]),e._v(" "),n("label",{staticClass:"def",attrs:{for:""}},[e._v("是否设置为默认银行：\n\t\t\t\t\t"),n("mt-switch",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),e._v(" "),n("div",{staticClass:"tc"},[n("button",{staticClass:"submit",attrs:{type:"button"},on:{click:e.subCard}},[e._v("提交")])])])])]),e._v(" "),n("foot",{attrs:{pageindex:e.pageindex}})],1)},staticRenderFns:[]};var c=a("VU/8")(i,o,!1,function(e){a("WcX4")},"data-v-1d7f48f4",null);t.default=c.exports},WcX4:function(e,t){}});
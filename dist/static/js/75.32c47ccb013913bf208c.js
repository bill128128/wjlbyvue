webpackJsonp([75],{AOxr:function(t,e){},M4MO:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={data:function(){return{count:1,hjdate:"",hjtext:"",winnum:0,wintitle:"",indexa:"",indexb:"",toast_control:!1,click_flag:!0,start_rotating_degree:0,rotate_angle:0,start_rotating_degree_pointer:0,rotate_angle_pointer:0,rotate_transition:"",rotate_transition_pointer:"transform 12s ease-in-out",prize_list:[{prizeType:400,prizeName:"一等奖"},{prizeType:100,prizeName:"七等奖"},{prizeType:350,prizeName:"二等奖"},{prizeType:100,prizeName:"七等奖"},{prizeType:300,prizeName:"三等奖"},{prizeType:100,prizeName:"七等奖"},{prizeType:250,prizeName:"四等奖"},{prizeType:100,prizeName:"七等奖"},{prizeType:200,prizeName:"五等奖"},{prizeType:100,prizeName:"七等奖"},{prizeType:150,prizeName:"六等奖"},{prizeType:100,prizeName:"七等奖"}],arrOne:[],arrTwo:[],shopUid:"",userinfo:"",prizeinfo:{isGet:"",prizeInfos:[{validTime:"",invalidTime:"",type:""}]},hasPrize:{},num:"0"}},created:function(){this.setSan(),this.getpersoninfo()},computed:{defaultOption:function(){return{step:1,hoverStop:!0,direction:1,waitTime:1e3}}},methods:{chou:function(){if(this.indexa="",this.indexb="",7==this.winnum){var t=[1,3,5,7,9,11],e=Math.random()*t.length>>0;this.winnum=t[e],this.rotating(this.winnum)}else this.winnum=this.winnum+(this.winnum-2),this.rotating(this.winnum)},setSan:function(){this.arrOne=[],this.arrTwo=[],this.rotate_angle="rotate("+Math.floor(-36e3/this.prize_list.length)/200+"deg)",this.start_rotating_degree=Math.floor(-36e3/this.prize_list.length)/200;for(var t=0;t<this.prize_list.length;t++){this.prize_list[t].troter="rotate("+Math.floor(36e3/this.prize_list.length)/100*(.5+Number(t))+"deg) translateX(-50%)",this.prize_list[t].width=Math.floor(17.584/this.prize_list.length)+"rem";var e={value:this.prize_list[t].name,zIndex:Number(t)+1,deg:"rotate("+Math.floor(36e3/this.prize_list.length)*t/100+"deg)",degnum:t};t<this.prize_list.length/2?this.arrOne.push(e):this.arrTwo.push(e)}},rotating:function(t){var e=this;if(e.rotate_transition="transform 6s cubic-bezier(0.25,0.1,0.01,1)",e.click_flag){var i=t;e.click_flag=!1,this.start_rotating_degree<0?this.start_rotating_degree=0:this.start_rotating_degree=this.start_rotating_degree-Math.floor(36e3/e.prize_list.length)/200-Math.floor(36e3/this.prize_list.length)*e.nums/100;var s=this.start_rotating_degree+3600+Math.floor(-36e3/this.prize_list.length)/200-Math.floor(36e3/this.prize_list.length)*i/100;this.start_rotating_degree=s,e.rotate_angle="rotate("+s+"deg)",setTimeout(function(){e.click_flag=!1,e.winnum<e.prize_list.length/2?(e.indexb="",e.indexa=e.winnum):(e.indexa="",e.indexb=e.winnum-e.arrOne.length),setTimeout(function(){e.game_over(),e.getpersoninfo()},100)},6500)}},game_over:function(){this.prizetype=1,-1!=this.prizetype?this.toast_control=!0:Alert.show("奖品已领完，下次请早到哦！");var t;t={type:1,words1:"恭喜您！",words2:"获得"+this.wintitle,words3:""},this.hasPrize=t},getwinnum:function(){var t=this;1==this.count?this.$store.dispatch("turnplate/getresult").then(function(){200==t.$store.state.turnplate.code?(t.nums=Number(t.prize_list.length-1)-Number(t.winnum),t.winnum=t.$store.state.turnplate.result.id,t.wintitle=t.$store.state.turnplate.result.prize,t.chou()):(t.click_flag=!1,t.$toast({message:t.$store.state.turnplate.msg}))}).catch(function(t){}):this.$toast({message:"每位用户只有一次抽奖机会，您已经抽过奖了！"})},goback:function(){this.$router.go(-1)},getpersoninfo:function(){var t=this;this.$store.dispatch("turnplate/getpersoninfo").then(function(){200==t.$store.state.turnplate.pcode?(t.count=t.$store.state.turnplate.presult.number,t.hjdate=t.$store.state.turnplate.presult.time,t.hjtext=t.$store.state.turnplate.presult.prize):t.$toast({message:t.$store.state.turnplate.pmsg})}).catch(function(t){})}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"trunplate"}},[s("div",{staticClass:"top"},[s("img",{attrs:{src:i("xDWF")},on:{click:t.goback}}),t._v("\n\t\t新用户玩转盘\n\t")]),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"conts"},[s("div",{staticClass:"box"},[s("div",{staticClass:"pointer",on:{click:function(e){t.getwinnum()}}}),t._v(" "),s("div",{staticClass:"boxbg",style:{transform:t.rotate_angle,transition:t.rotate_transition}},[s("div",{staticClass:"turn"},[s("div",{class:{"wheel-bg6":!0}},[s("div",{staticClass:"prize-list"},[s("ul",{staticClass:"ulOne",class:{win:0===t.indexa&&3==t.prize_list.length}},t._l(t.arrOne,function(e,i){return s("li",{class:{win:i===t.indexa},style:{zIndex:e.zIndex,transform:e.deg}})})),t._v(" "),s("ul",{staticClass:"ulTwo",class:{win:t.indexa===t.arrOne.length-1}},[t._l(t.arrTwo,function(e,i){return s("li",{class:{win:i===t.indexb},style:{zIndex:e.zIndex,transform:e.deg}})}),t._v(" "),3==t.prize_list.length?s("li",{class:{win:0===t.indexb},staticStyle:{border:"none","z-index":"4",transform:"rotate(329deg)"}}):t._e()],2),t._v(" "),s("div")]),t._v(" "),s("div",{staticClass:"prize-list"},t._l(t.prize_list,function(e,i){return s("div",{key:i,staticClass:"prize-item",style:{transform:e.troter,width:e.width}},[s("p",[t._v(t._s(e.prizeName))]),t._v(" "),s("div",{staticClass:"prize-name"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.prizeType)+"\n\t\t\t\t\t\t\t\t\t")])])}))])])])])]),t._v(" "),s("div",{staticClass:"hjlist"},[s("p",[t._v("您还有 "),s("span",[t._v(t._s(t.count))]),t._v("次抽奖机会")]),t._v(" "),s("div",{staticClass:"zjtitle"},[0===t.count?s("b",[t._v("我的奖品:"+t._s(t.hjtext)),s("span",[t._v("获奖时间:"+t._s(t.hjdate))])]):t._e(),t._v(" "),1===t.count?s("b",[t._v("     您有一次抽奖机会，快去抽奖吧！")]):t._e()]),t._v(" "),s("div",{staticClass:"gztitle"},[t._v("活动规则")]),t._v(" "),t._m(0)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.toast_control,expression:"toast_control"}],staticClass:"popup",on:{click:function(e){t.toast_control=!1},touchmove:function(t){t.preventDefault()}}},[s("div",{staticClass:"popbg"}),t._v(" "),s("div",{staticClass:"popbox"},[s("p",[t._v("恭喜您！抽中"),s("br"),s("b",[t._v(t._s(t.wintitle))]),s("br")])])]),t._v(" "),s("p",{staticClass:"p1"},[t._v("中奖后，您的奖励积分将计入招募积分总额中")])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"ul"},[i("li",[t._v("一等奖")]),i("li",[t._v("400招募积分")]),t._v(" "),i("li",[t._v("二等奖")]),i("li",[t._v("350招募积分")]),t._v(" "),i("li",[t._v("三等奖")]),i("li",[t._v("300招募积分")]),t._v(" "),i("li",[t._v("四等奖")]),i("li",[t._v("250招募积分")]),t._v(" "),i("li",[t._v("五等奖")]),i("li",[t._v("200招募积分")]),t._v(" "),i("li",[t._v("六等奖")]),i("li",[t._v("150招募积分")]),t._v(" "),i("li",[t._v("七等奖")]),i("li",[t._v("100招募积分")])])}]};var n=i("VU/8")(s,r,!1,function(t){i("AOxr")},"data-v-1388d090",null);e.default=n.exports}});